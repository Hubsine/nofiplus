{% extends "@Front/User/Profiles/index.html.twig" %}

{% block content_title_tag_start %}
{% endblock content_title_tag_start %}
{% block content_title_tag_end %}
{% endblock content_title_tag_end %}

{% block content_title %}
    {% set profileMenu = knp_menu_get('profileMenu', [], {'_route': app.request.attributes.get('_route')}) %}
    {{ knp_menu_render(profileMenu) }}
{% endblock content_title %}

{% block content %}
    <div class="userSingle mt-3">
        <div class="row">
            {% if is_granted( 'EDIT', user ) %}
                <div class="col-12 text-right mb-3">
                    <a href="{{ path('user_profiles_edit', {'slug': app.user.slug}) }}" role="button" class="btn btn-outline-success">{{ 'layout.update' | trans }}</a>
                </div>
            {% endif %}

            <div class="col-md-4">
                <div class="text-center">
                    <img {{ holderJs('75x75') }} src="{{ asset(getAvatar(user.avatar)) }}" alt="" class="img-thumbnail">
                </diV>
                
                <h2 class="mt-3 mb-3">{{ user.username }}</h2>
                
                <ul class="list-group mt-2">
                    {% for socialItem in user.socialNetworks %}
                        <li class="list-group-item">
                            <a target="_blank" href="{{ socialItem.url }}" title="{{ socialItem.socialNetworkAvaible.name }}">
                                <i class="fab fa-{{ socialItem.socialNetworkAvaible.icon }}"></i> 
                                {{ socialItem.socialNetworkAvaible.name }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-md-8">
                <h3>{{ 'profile.about' | trans }}</h3>
                <div class="about row">
                    <div class="col-sm-5">
                        <label>{{ 'profile.username' | trans }}</label>
                    </diV>
                    <div class="col-sm-7">{{ user.username }}</div>
                </div>
            </diV>
        </div>
    </div>
{% endblock content %}